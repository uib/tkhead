(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["node"],{"6caa":function(t,e,s){"use strict";var r=s("a7e4"),i=s.n(r);i.a},7088:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:t.href}},[t._v(t._s(t.name))])},i=[],a={props:{uid:{type:String,required:!0},name:{type:String,required:!0}},computed:{href:function(){return"https://www.uib.no/user/uib/"+this.uid}}},n=a,c=s("2877"),o=Object(c["a"])(n,r,i,!1,null,null,null);e["a"]=o.exports},"7e20":function(t,e,s){"use strict";var r=s("e2f8"),i=s.n(r);i.a},a7e4:function(t,e,s){},b09b:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"service-page content"},[s("service",{attrs:{"svc-id":t.id}})],1)},i=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.svc?s("article",{staticClass:"service"},[s("ul",{staticClass:"links"},[t.svc.link.home?s("li",[s("a",{attrs:{href:t.svc.link.home,title:"Gå til tjenesten"}},[s("fa-icon",{attrs:{name:"external-link"}})],1)]):t._e(),t.svc.link.doc?s("li",[s("a",{attrs:{href:t.svc.link.doc,title:"Dokumentasjon av tjenesten"}},[s("fa-icon",{attrs:{name:"question-circle"}})],1)]):t._e(),t.bus.ita_mode?s("li",[s("a",{attrs:{href:t.svc.link.href_tk+"/edit",title:"Rediger info om tjenesten (krever innlogging)"}},[s("fa-icon",{attrs:{name:"pencil-square-o"}})],1)]):t._e()]),s("div",{staticClass:"kicker"},[s("fa-icon",{attrs:{name:"cog"}}),t._v(" Tjeneste ")],1),s("h2",[t._v(t._s(t.svc.title)+" "),t.svc.link.domain?[t._v(" – "),s("a",{attrs:{href:t.svc.link.home}},[t._v(t._s(t.svc.link.domain))]),s("sup",{staticStyle:{"font-size":"50%"}},[s("uptime-status",{attrs:{domain:t.svc.link.domain,refresh:""}})],1)]:t._e()],2),"summary"in t.svc.text?s("p",{staticClass:"lead"},[t._v(t._s(t.svc.text.summary))]):t._e(),"description"in t.svc.text?s("p",{staticClass:"desc"},[t._v(t._s(t.svc.text.description))]):t._e(),s("div",{staticClass:"fields"},[t.svc.related&&t.svc.related.service_owner?s("field",{attrs:{name:"Systemeier"}},[t._v(" "+t._s(t.svc.related.service_owner.title)+" ")]):t._e(),t.svc.related&&t.svc.related.support_contact?s("field",{attrs:{name:"Brukerstøtte"}},[t._v(" "+t._s(t.svc.related.support_contact.title)+" ")]):t._e(),t.bus.ita_mode&&t.svc.info.availability?s("field",{attrs:{name:"Normalt tilgjengelig"}},[t._v(" "+t._s(t.svc.info.availability_formatted)+" ")]):t._e(),t.bus.ita_mode?s("field",{attrs:{name:"Tjenestetype"}},[t._v(" "+t._s(t.svc.info.service_type_formatted)+" ")]):t._e(),t.bus.ita_mode?s("field",{attrs:{name:"Kritikalitet"}},[t._v(" "+t._s(t.svc.info.criticality_formatted)+" ")]):t._e(),t.bus.ita_mode?s("field",{attrs:{name:"Informasjonsklasse"}},[t._v(" "+t._s(t.svc.info.information_class_formatted)+" ")]):t._e(),t.bus.ita_mode?s("field",{attrs:{name:"Livssyklus"}},[t._v(" "+t._s(t.svc.info.service_state_formatted)+" ")]):t._e(),t.bus.ita_mode?s("field",{attrs:{name:"Vaktordning"}},[t._v(" "+t._s(t.svc.info.service_rotation_formatted)+" ")]):t._e(),t.svc.info.service_supplier?s("field",{attrs:{name:"Driftsleverandør"}},[t._v(" "+t._s(t.svc.info.service_supplier_formatted)+" ")]):t._e(),t.bus.ita_mode&&t.svc.related&&t.svc.related.op_team?s("field",{attrs:{name:"Driftsteam"}},[t._v(" "+t._s(t.svc.related.op_team.title)+" ")]):t._e(),t.bus.ita_mode?s("field",{attrs:{name:"Registreringsstatus"}},[t._v(" "+t._s(t.svc.info.edit_state_formatted)+" ")]):t._e()],1),t.bus.ita_mode?s("div",{staticClass:"meta"},[t._v(" Opprettet "+t._s(t.svc.meta.created.substr(0,10))+" av "),s("user",t._b({},"user",t.svc.meta.author,!1)),t._v(", oppdatert "+t._s(t.svc.meta.changed.substr(0,10))+". ")],1):t._e()]):s("div",[t.err?s("p",[t._v(t._s(t.err))]):t._e()])},n=[],c=s("8588"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"field"},[s("div",{staticClass:"field-name"},[t._v(" "+t._s(t.name)+" ")]),t._t("default")],2)},l=[],u={props:{name:{type:String,required:!0}}},d=u,v=s("2877"),_=Object(v["a"])(d,o,l,!1,null,null,null),f=_.exports,m=s("f0e9"),p=s("7088"),h=s("56d7"),b=s("6e50"),g={name:"Service",props:{svcId:{type:String,required:!0}},data:function(){return{svc:null,bus:h["eventBus"],err:null}},created:function(){var t=this;Object(b["a"])().then((function(e){var s=e.service[t.svcId];s||(t.err="404 Tjenesten finnes ikke"),t.svc=s}))},components:{FaIcon:c["a"],Field:f,UptimeStatus:m["a"],User:p["a"]}},k=g,y=(s("7e20"),Object(v["a"])(k,a,n,!1,null,null,null)),S=y.exports,j={name:"ServicePage",props:{id:{type:String,required:!0}},components:{Service:S}},w=j,x=(s("6caa"),Object(v["a"])(w,r,i,!1,null,"88167ac2",null));e["default"]=x.exports},e2f8:function(t,e,s){},f0e9:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("figure",{staticStyle:{display:"inline-block"},attrs:{title:t.textStatus}},[s("svg",{staticClass:"uptime-status",staticStyle:{width:"1.5ex",height:"1.5ex"},attrs:{viewBox:"0 0 100 100"}},[s("circle",{attrs:{cx:"50",cy:"50",r:"48",fill:t.dotColor}})])])},i=[],a=(s("d3b7"),{props:{domain:{type:String,required:!0},refresh:{type:Boolean,required:!1}},data:function(){return{status:null,error:null,timer:null}},computed:{dotColor:function(){return this.error?"#999":this.status?this.status.status?"limegreen":"red":"#ddd"},textStatus:function(){var t="";if(this.status)t+=this.status.status?"For tiden oppe":"For tiden nede",t+=" – "+this.status.ratio+"% oppetid idag",t+="\n(Sist oppdatert: "+this.status.refreshed.toTimeString().substr(0,5)+")";else if(!this.error)return"Laster fra oppetid.app.uib.no";return this.error&&(t&&(t+="\n"),t+="Feil fra oppetid-serveren: "+this.error),t}},created:function(){var t=this;this.fetchStatus(),this.refresh&&(this.timer=setInterval((function(){t.fetchStatus()}),1e3*(55+10*Math.random())))},destroyed:function(){this.timer&&clearInterval(this.timer)},methods:{fetchStatus:function(){var t=this;this.error=null,fetch("https://oppetid.app.uib.no/getStatus.php?return=json&days=1&tjeneste=".concat(this.domain),{cache:"no-store"}).then((function(t){if(t.ok)return t.json();throw new Error("Response "+t.status)})).then((function(e){e.refreshed=new Date,t.status=e})).catch((function(e){t.error=e}))}}}),n=a,c=s("2877"),o=Object(c["a"])(n,r,i,!1,null,null,null);e["a"]=o.exports}}]);
//# sourceMappingURL=node.eccde804.js.map